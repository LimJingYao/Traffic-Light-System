		ORG	00H		;starting address of memory
		AJMP	MAIN

MAIN:		MOV	A, #11110000B	;R1,R2,R3,R4 ON
		MOV	P1, A		;set port 1 as output
		MOV	A, #00111111B	;SHOW NUM 0
		MOV	P2, A		;set port 2 as input
		ACALL	DRI		;delay RED
;Port 0.0
GRE1:		MOV	A, #11111110B	;G1 ON
		MOV	P0,A		;pattern on the output
		MOV	A, #11110001B	;R1 OFF
		MOV	P1,A
		ACALL	D9
;Port 0.4
YEL1:		MOV	A, #11101111B	;Y1 ON, G1 OFF
		MOV	P0,A
		ACALL	D3
;Port 1.0
RED1:		MOV	A, #11110000B	;ALL R ON
		MOV	P1,A
		MOV	B, #11111111B	;Y1 OFF
		MOV	P0,B		;store in Aux.accum
		ACALL	DRI
;Port 0.1
GRE2:		MOV	A, #11111101B	;G2 ON
		MOV	P0,A
		MOV	A, #11110010B	;R2 OFF
		MOV	P1,A
		ACALL	D9
;Port 0.5
YEL2:		MOV	A, #11011111B	;Y2 ON, G2 OFF
		MOV	P0,A
		ACALL	D3
;Port 1.1
RED2:		MOV	A, #11110000B	;ALL R ON
		MOV	P1,A
		MOV	P0,B		;Y2 OFF store in Aux.accum
		ACALL	DRI

GRE3:		MOV	A, #11111011B	;G3 ON
		MOV	P0,A
		MOV	A, #11110100B	;R3 OFF
		MOV	P1,A
		ACALL	D9

YEL3:		MOV	A, #10111111B	;Y3 ON, G3 OFF
		MOV	P0,A
		ACALL	D3

RED3:		MOV	A, #11110000B	;ALL R ON
		MOV	P1,A
		MOV	P0,B		;Y3 OFF store in Aux.accum
		ACALL	DRI

GRE4:		MOV	A, #11110111B	;G4 ON
		MOV	P0,A
		MOV	A, #11111000B	;R4 OFF
		MOV	P1,A
		ACALL	D9

YEL4:		MOV	A, #01111111B	;Y4 ON, G4 OFF
		MOV	P0,A
		ACALL	D3

RED4:		MOV	A, #11110000B	;ALL R ON
		MOV	P1,A
		MOV	P0,B		;Y4 OFF store in Aux.accum
		ACALL	DRI
		AJMP	GRE1		;REPEAT CYCLE from G1

;DELAY RED
DRI:		MOV	A, #00111111B	;SHOW NUM 0
		MOV	P2, A
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		RET

;DELAY GREEN
D9:		MOV	A, #01101111B	;SHOW NUM 9
		MOV	P2,A
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND

D8:		MOV	A, #01111111B	;SHOW NUM 8
		MOV	P2,A
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND

D7:		MOV	A, #00000111B	;SHOW NUM 7
		MOV	P2,A
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND

D6:		MOV	A, #01111101B	;SHOW NUM 6
		MOV	P2,A
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND

D5:		MOV	A, #01101101B	;SHOW NUM 5
		MOV	P2,A
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND

D4:		MOV	A, #01100110B	;SHOW NUM 4
		MOV	P2,A
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		RET

;DELAY YELLOW
D3:		MOV	A, #01001111B	;SHOW NUM 3
		MOV	P2,A
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND

D2:		MOV	A, #01011011B	;SHOW NUM 2
		MOV	P2,A
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND

D1:		MOV	A, #00000110B	;SHOW NUM 1
		MOV	P2,A
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		ACALL	DELAY1SECOND
		RET

DELAY:		MOV	R1,#0FFH
DELAYA:		MOV	R2,#01FH
DELAYB:		DJNZ	R2,DELAYB
		DJNZ	R1,DELAYA
		RET

DELAY1SECOND:	ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY
		ACALL	DELAY

		RET
		END

